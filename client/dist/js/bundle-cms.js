!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./client/src/bundles/bundle-cms.js")}({"./client/lang/src/en.json":function(e,t){e.exports={"MultiFactorAuthentication.HOW_MFA_WORKS":"How multi-factor authentication works","MultiFactorAuthentication.TITLE":"Add extra security to your account","MultiFactorAuthentication.HOW_IT_WORKS":"How it works","MultiFactorAuthentication.EXTRA_LAYER_IMAGE_ALT":"Shields indicating additional protection","MultiFactorAuthentication.EXTRA_LAYER_TITLE":"Extra layer of protection","MultiFactorAuthentication.EXTRA_LAYER_DESCRIPTION":"Every time you log into your account, you'll need your password and an additional form of verification.","MultiFactorAuthentication.UNIQUE_IMAGE_ALT":"Person with tick indicating uniqueness","MultiFactorAuthentication.UNIQUE_TITLE":"Unique to you","MultiFactorAuthentication.UNIQUE_DESCRIPTION":"This verification is only available to you. Even if someone gets your password, they will not be able to access your account.","MultiFactorAuthentication.GET_STARTED":"Get started","MultiFactorAuthentication.SETUP_LATER":"Setup later","MultiFactorAuthentication.ADD_ANOTHER_METHOD":"Add another MFA method","MultiFactorAuthentication.ADD_FIRST_METHOD":"Add an MFA method","MultiFactorAuthentication.REGISTERED":"{method}: Registered","MultiFactorAuthentication.DEFAULT_REGISTERED":"{method} (default): Registered","MultiFactorAuthentication.BACKUP_REGISTERED":"{method}: Created {date}","MultiFactorAuthentication.RESET_METHOD":"Reset","MultiFactorAuthentication.REMOVE_METHOD":"Remove","MultiFactorAuthentication.SET_AS_DEFAULT":"Set as default method","MultiFactorAuthentication.NO_METHODS_REGISTERED":"No MFA methods have been registered. Add one using the button below","MultiFactorAuthentication.NO_METHODS_REGISTERED_READONLY":"This member has not registered any MFA methods yet","MultiFactorAuthentication.SELECT_METHOD":"Select a verification method","MultiFactorAuthentication.SETUP_COMPLETE_TITLE":"Multi-factor authentication is now set up","MultiFactorAuthentication.ACCOUNT_RESET_TITLE":"Help user reset account","MultiFactorAuthentication.ACCOUNT_RESET_DESCRIPTION":"Ensure that the person requesting a reset is the real person associated with this account before proceeding. An email will be sent to the member's address with a link to reset both their password and multi-factor authentication methods.","MultiFactorAuthentication.ACCOUNT_RESET_ACTION":"Send account reset email","MultiFactorAuthentication.ACCOUNT_RESET_SENDING":"Sending...","MultiFactorAuthentication.ACCOUNT_RESET_SENDING_SUCCESS":"An email has been sent.","MultiFactorAuthentication.ACCOUNT_RESET_SENDING_FAILURE":"We were unable to send an email, please try again later.","MultiFactorAuthentication.ACCOUNT_RESET_CONFIRMATION":"You are about to reset this account. Their password and multi-factor authentication will be reset. Continue?","MultiFactorAuthentication.ACCOUNT_RESET_CONFIRMATION_BUTTON":"Yes, send reset email","MultiFactorAuthentication.DEFAULT_CONFIRM_BUTTON":"Confirm","MultiFactorAuthentication.DEFAULT_CONFIRM_DISMISS_BUTTON":"Cancel","MultiFactorAuthentication.DELETE_CONFIRMATION":"Are you sure you want to remove this method","MultiFactorAuthentication.CONFIRMATION_TITLE":"Are you sure?","MultiFactorAuthentication.DELETE_CONFIRMATION_BUTTON":"Remove method","MultiFactorAuthentication.RESET_BACKUP_CONFIRMATION":"All existing codes will be made invalid and new codes will be created","MultiFactorAuthentication.RESET_BACKUP_CONFIRMATION_BUTTON":"Reset codes","MultiFactorAuthentication.ADMIN_SETUP_COMPLETE_CONTINUE":"Your settings have been updated","MultiFactorAuthentication.TRY_AGAIN_ERROR":"Something went wrong. Please try again.","MultiFactorAuthentication.UNKNOWN_ERROR":"An unknown error occurred."}},"./client/src/boot/cms/index.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n("./client/src/boot/cms/registerComponents.js"),i=r(o),a=n("./client/src/boot/cms/registerReducers.js"),s=r(a);window.document.addEventListener("DOMContentLoaded",function(){(0,i.default)(),(0,s.default)()})},"./client/src/boot/cms/registerComponents.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=n("./client/src/boot/registerComponents.js"),s=r(a),l=n("./client/src/components/Register.js"),u=r(l),c=n("./client/src/components/FormField/RegisteredMFAMethodListField/RegisteredMFAMethodListField.js"),d=r(c);t.default=function(){(0,s.default)(),i.default.component.registerMany({MFARegister:u.default,RegisteredMFAMethodListField:d.default})}},"./client/src/boot/cms/registerReducers.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=n("./client/src/boot/registerReducers.js"),s=r(a),l=n("./client/src/state/mfaAdministration/reducer.js"),u=r(l);t.default=function(){(0,s.default)(),i.default.reducer.register("mfaAdministration",u.default)}},"./client/src/boot/registerComponents.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./client/src/components/BackupCodes/Register.js"),i=r(o),a=n("./client/src/components/BackupCodes/Verify.js"),s=r(a),l=n(3),u=r(l);t.default=function(){u.default.component.registerMany({BackupCodeRegister:i.default,BackupCodeVerify:s.default})}},"./client/src/boot/registerReducers.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=n("./client/src/state/mfaRegister/reducer.js"),s=r(a),l=n("./client/src/state/mfaVerify/reducer.js"),u=r(l);t.default=function(){i.default.reducer.register("mfaRegister",s.default),i.default.reducer.register("mfaVerify",u.default)}},"./client/src/bundles/bundle-cms.js":function(e,t,n){"use strict";n("./client/src/legacy/index.js"),n("./client/src/boot/cms/index.js")},"./client/src/components/BackupCodes/Register.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),d=r(c),f=n("./node_modules/printd/index.js"),p=r(f),h=n("./node_modules/react-copy-to-clipboard/lib/index.js"),m=n("./client/src/lib/formatCode.js"),_=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={recentlyCopied:!1},n.printRef=null,n.setPrintRef=function(e){n.printRef=e},n.copyMessageTimeout=null,n.handlePrint=n.handlePrint.bind(n),n.handleCopy=n.handleCopy.bind(n),n}return a(t,e),s(t,[{key:"getFormattedCodes",value:function(){return this.props.codes.map(function(e){return(0,m.formatCode)(e)})}},{key:"handlePrint",value:function(e){e.preventDefault(),(new p.default).print(this.printRef,['body { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif }'])}},{key:"handleCopy",value:function(e){var t=this;e.preventDefault();var n=this.props.copyFeedbackDuration;this.setState({recentlyCopied:!0}),this.copyMessageTimeout&&clearTimeout(this.copyMessageTimeout),this.copyMessageTimeout=setTimeout(function(){t.setState({recentlyCopied:!1})},n)}},{key:"renderCodes",value:function(){return u.default.createElement("pre",{ref:this.setPrintRef,className:"mfa-register-backup-codes__code-grid"},this.getFormattedCodes().map(function(e){return u.default.createElement("div",{key:e},e)}))}},{key:"renderDescription",value:function(){var e=window,t=e.ss.i18n,n=this.props.method,r=n.supportLink,o=n.supportText;return u.default.createElement("p",null,t._t("MFABackupCodesRegister.DESCRIPTION","Recovery codes enable you to log into your account in the event your primary authentication is not available. Each code can only be used once. Store these codes somewhere safe, as they will not be viewable after leaving this page."),"Â ",r&&u.default.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},o||t._t("MFARegister.RECOVERY_HELP","Learn more about recovery codes.")))}},{key:"renderPrintAction",value:function(){var e=window,t=e.ss.i18n;return u.default.createElement("button",{type:"button",onClick:this.handlePrint,className:"btn btn-link"},t._t("MFABackupCodesRegister.PRINT","Print codes"))}},{key:"renderDownloadAction",value:function(){var e=this.props,t=e.codes,n=e.method,r=window,o=r.Blob,i=r.URL,a=r.ss.i18n,s=r.navigator,l=n.name+".txt",c=t.join("\r\n"),d=new o([c],{type:"text/plain;charset=UTF-8"}),f=i.createObjectURL(d),p=function(e){s.msSaveBlob&&(e.preventDefault(),s.msSaveBlob(d,l))};return u.default.createElement("a",{download:l,href:f,className:"btn btn-link",onClick:p},a._t("MFABackupCodesRegister.DOWNLOAD","Download"))}},{key:"renderCopyAction",value:function(){var e=this.props.codes,t=this.state.recentlyCopied,n=window,r=n.ss.i18n,o=t?r._t("MFABackupCodesRegister.COPY_RECENT","Copied!"):r._t("MFABackupCodesRegister.COPY","Copy codes");return u.default.createElement(h.CopyToClipboard,{text:e.join("\n")},u.default.createElement("button",{type:"button",className:"mfa-register-backup-codes__copy-to-clipboard btn btn-link",onClick:this.handleCopy},o))}},{key:"render",value:function(){var e=this.props.onCompleteRegistration,t=window,n=t.ss.i18n;return u.default.createElement("div",{className:"mfa-register-backup-codes__container"},this.renderDescription(),this.renderCodes(),u.default.createElement("div",{className:"mfa-register-backup-codes__helper-links"},this.renderPrintAction(),this.renderDownloadAction(),this.renderCopyAction()),u.default.createElement("button",{className:"btn btn-primary",onClick:function(){return e()}},n._t("MFABackupCodesRegister.FINISH","Finish")))}}]),t}(l.Component);_.propTypes={codes:d.default.arrayOf(d.default.string),copyFeedbackDuration:d.default.number},_.defaultProps={copyFeedbackDuration:3e3},t.default=_},"./client/src/components/BackupCodes/Verify.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(4),d=r(c),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},n.codeInput=u.default.createRef(),n.handleChange=n.handleChange.bind(n),n.handleCompleteVerification=n.handleCompleteVerification.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.codeInput.current&&this.codeInput.current.focus()}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleCompleteVerification",value:function(e){e.preventDefault(),(0,this.props.onCompleteVerification)({code:this.state.value})}},{key:"renderControls",value:function(){var e=this.props.moreOptionsControl,t=window,n=t.ss.i18n;return u.default.createElement("ul",{className:"mfa-action-list mfa-action-list--backup-codes"},u.default.createElement("li",{className:"mfa-action-list__item"},u.default.createElement("button",{className:"btn btn-primary",disabled:0===this.state.value.length,onClick:this.handleCompleteVerification},n._t("MFABackupCodesVerify.NEXT","Next"))),e&&u.default.createElement("li",{className:"mfa-action-list__item"},e))}},{key:"renderDescription",value:function(){var e=window,t=e.ss.i18n,n=this.props.method;return u.default.createElement("p",null,t._t("MFABackupCodesVerify.DESCRIPTION","Use one of the recovery codes you received"),"Â ",n&&n.supportLink&&u.default.createElement("a",{href:n.supportLink,target:"_blank",rel:"noopener noreferrer"},t._t("MFARegister.RECOVERY_HELP","How to use recovery codes.")))}},{key:"renderInput",value:function(){var e=this.props.error,t=window,n=t.ss.i18n,r=n._t("MFABackupCodesVerify.LABEL","Enter recovery code"),o=(0,d.default)("mfa-verify-backup-codes__input-container",{"has-error":!!e});return u.default.createElement("div",{className:o},u.default.createElement("label",{htmlFor:"backup-code",className:"control-label"},r),u.default.createElement("input",{className:"mfa-verify-backup-codes__input text form-control",type:"text",placeholder:r,id:"backup-code",ref:this.codeInput,onChange:this.handleChange}),e&&u.default.createElement("div",{className:"help-block"},e))}},{key:"render",value:function(){var e=this.props,t=e.graphic,n=e.name;return u.default.createElement("form",{className:"mfa-verify-backup-codes__container"},u.default.createElement("div",{className:"mfa-verify-backup-codes__content"},this.renderDescription(),this.renderInput()),u.default.createElement("div",{className:"mfa-verify-backup-codes__image-holder"},u.default.createElement("img",{className:"mfa-verify-backup-codes__image",src:t,alt:n})),this.renderControls())}}]),t}(l.Component);t.default=f},"./client/src/components/FormField/RegisteredMFAMethodListField/AccountResetUI.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(0),f=r(d),p=n(5),h=r(p),m=n("./client/src/lib/api.js"),_=r(m),b=n("./node_modules/@silverstripe/reactstrap-confirm/dist/index.js"),y=r(b),E=n("./client/src/components/LoadingIndicator.js"),v=r(E),M=n("./client/src/components/Icons/CircleDash.js"),g=r(M),O=n("./client/src/components/Icons/CircleTick.js"),T=r(O),A=n("./client/lang/src/en.json"),R=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={complete:!1,failed:!1,submitting:!1},n.handleSendReset=n.handleSendReset.bind(n),n}return s(t,e),l(t,[{key:"handleSendReset",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window,n=t.ss.i18n,r=n._t("MultiFactorAuthentication.ACCOUNT_RESET_CONFIRMATION",A["MultiFactorAuthentication.ACCOUNT_RESET_CONFIRMATION"]),o=n._t("MultiFactorAuthentication.CONFIRMATION_TITLE",A["MultiFactorAuthentication.CONFIRMATION_TITLE"]),i=n._t("MultiFactorAuthentication.ACCOUNT_RESET_CONFIRMATION_BUTTON",A["MultiFactorAuthentication.ACCOUNT_RESET_CONFIRMATION_BUTTON"]),e.next=6,(0,y.default)(r,{title:o,confirmLabel:i});case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:this.setState({submitting:!0}),a=JSON.stringify({csrf_token:h.default.get("SecurityID")}),(0,_.default)(this.props.resetEndpoint,"POST",a).then(function(e){return e.json()}).then(function(e){var t=!!e.error;s.setState({complete:!0,failed:t,submitting:!1})}).catch(function(){s.setState({complete:!0,failed:!0,submitting:!1})});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"renderAction",value:function(){var e=window,t=e.ss.i18n,n=this.props.resetEndpoint,r=this.state,o=r.complete,i=r.submitting;return o||i?null:f.default.createElement("p",{className:"account-reset-action"},f.default.createElement("button",{className:"btn btn-outline-secondary",disabled:!n,onClick:this.handleSendReset,type:"button"},t._t("MultiFactorAuthentication.ACCOUNT_RESET_ACTION",A["MultiFactorAuthentication.ACCOUNT_RESET_ACTION"])))}},{key:"renderSending",value:function(){var e=window,t=e.ss.i18n;return f.default.createElement("p",{className:"account-reset-action account-reset-action--sending"},f.default.createElement("span",{className:"account-reset-action__icon"},f.default.createElement(v.default,{size:"32px"})),f.default.createElement("span",{className:"account-reset-action__message"},t._t("MultiFactorAuthentication.ACCOUNT_RESET_SENDING",A["MultiFactorAuthentication.ACCOUNT_RESET_SENDING"])))}},{key:"renderFailure",value:function(){var e=window,t=e.ss.i18n;return f.default.createElement("p",{className:"account-reset-action account-reset-action--failure"},f.default.createElement("span",{className:"account-reset-action__icon"},f.default.createElement(g.default,{size:"32px"})),f.default.createElement("span",{className:"account-reset-action__message"},t._t("MultiFactorAuthentication.ACCOUNT_RESET_SENDING",A["MultiFactorAuthentication.ACCOUNT_RESET_SENDING_FAILURE"])))}},{key:"renderSuccess",value:function(){var e=window,t=e.ss.i18n;return f.default.createElement("p",{className:"account-reset-action account-reset-action--success"},f.default.createElement("span",{className:"account-reset-action__icon"},f.default.createElement(T.default,{size:"32px"})),f.default.createElement("span",{className:"account-reset-action__message"},t._t("MultiFactorAuthentication.ACCOUNT_RESET_SENDING_SUCCESS",A["MultiFactorAuthentication.ACCOUNT_RESET_SENDING_SUCCESS"])))}},{key:"renderStatusMessage",value:function(){var e=this.state,t=e.complete,n=e.failed;return e.submitting?this.renderSending():t?n?this.renderFailure():this.renderSuccess():null}},{key:"render",value:function(){var e=window,t=e.ss.i18n;return f.default.createElement("div",{className:"account-reset"},f.default.createElement("h5",{className:"account-reset__title"},t._t("MultiFactorAuthentication.ACCOUNT_RESET_TITLE",A["MultiFactorAuthentication.ACCOUNT_RESET_TITLE"])),f.default.createElement("p",{className:"account-reset__description"},t._t("MultiFactorAuthentication.ACCOUNT_RESET_DESCRIPTION",A["MultiFactorAuthentication.ACCOUNT_RESET_DESCRIPTION"])),this.renderAction(),this.renderStatusMessage())}}]),t}(d.Component);R.propTypes={resetEndpoint:c.default.string},t.default=R},"./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n("./node_modules/@silverstripe/reactstrap-confirm/dist/index.js"),f=r(d),p=n(1),h=r(p),m=n(4),_=r(m),b=n(9),y=r(b),E=n("./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem/Remove.js"),v=r(E),M=n("./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem/Reset.js"),g=r(M),O=n("./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem/SetDefault.js"),T=r(O),A=n("./client/src/types/registeredMethod.js"),R=r(A),C=n("./client/lang/src/en.json"),S=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"getStatusMessage",value:function(){var e=this.props,t=e.isBackupMethod,n=e.isDefaultMethod,r=window,o=r.ss.i18n;return n?o._t("MultiFactorAuthentication.DEFAULT_REGISTERED",C["MultiFactorAuthentication.DEFAULT_REGISTERED"]):t?o._t("MultiFactorAuthentication.BACKUP_REGISTERED",C["MultiFactorAuthentication.BACKUP_REGISTERED"]):o._t("MultiFactorAuthentication.REGISTERED",C["MultiFactorAuthentication.REGISTERED"])}},{key:"renderRemove",value:function(){var e=this.props,t=e.canRemove,n=e.method;return t?c.default.createElement(v.default,{method:n}):null}},{key:"renderReset",value:function(){var e=this,t=this.props,n=t.canReset,r=t.isBackupMethod,i=t.method;if(!n)return null;var a={method:i};if(r){var s=window,l=s.ss.i18n,u=l._t("MultiFactorAuthentication.RESET_BACKUP_CONFIRMATION",C["MultiFactorAuthentication.RESET_BACKUP_CONFIRMATION"]),d=l._t("MultiFactorAuthentication.CONFIRMATION_TITLE",C["MultiFactorAuthentication.CONFIRMATION_TITLE"]),p=l._t("MultiFactorAuthentication.RESET_BACKUP_CONFIRMATION_BUTTON",C["MultiFactorAuthentication.RESET_BACKUP_CONFIRMATION_BUTTON"]);a.onReset=function(){var t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.default)(u,{title:d,confirmLabel:p});case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:n();case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}return c.default.createElement(g.default,a)}},{key:"renderSetAsDefault",value:function(){var e=this.props,t=e.isDefaultMethod,n=e.isBackupMethod,r=e.method;return t||n?null:c.default.createElement(T.default,{method:r})}},{key:"renderControls",value:function(){var e=this.props,t=e.canRemove,n=e.canReset;return t||n?c.default.createElement("div",null,this.renderRemove(),this.renderReset(),this.renderSetAsDefault()):null}},{key:"renderNameAndStatus",value:function(){var e=this.props,t=e.method,n=e.createdDate,r=window,o=r.ss.i18n,i=this.getStatusMessage();return y.default.locale(o.detectLocale()),o.inject(i,{method:t.name,date:(0,y.default)(n).format("L")})}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.className,r=(0,_.default)(n,"registered-method-list-item");return c.default.createElement(t,{className:r},this.renderNameAndStatus(),this.renderControls())}}]),t}(u.PureComponent);S.propTypes={method:R.default.isRequired,isDefaultMethod:h.default.bool,isBackupMethod:h.default.bool,canRemove:h.default.bool,canReset:h.default.bool,onRemove:h.default.func,onReset:h.default.func,createdDate:h.default.string,className:h.default.string,tag:h.default.string},S.defaultProps={isDefaultMethod:!1,isBackupMethod:!1,canRemove:!1,canReset:!1,tag:"li"},t.default=S},"./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem/Remove.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=r(i),s=n(1),l=r(s),u=n(2),c=n("./node_modules/@silverstripe/reactstrap-confirm/dist/index.js"),d=r(c),f=n(5),p=r(f),h=n("./client/src/lib/api.js"),m=r(h),_=n("./client/src/state/mfaRegister/actions.js"),b=n("./client/src/state/mfaAdministration/actions.js"),y=n("./client/src/types/registeredMethod.js"),E=r(y),v=n("./client/lang/src/en.json"),M=function(e,t){var n=e.method,r=e.onRemove,i=e.defaultMethod,s=e.registeredMethods,l=e.onDeregisterMethod,u=e.onAddAvailableMethod,c=e.onSetDefaultMethod,f=t.backupMethod,h=t.endpoints.remove,_=window,b=_.ss.i18n,y=function(){var e=o(regeneratorRuntime.mark(function e(){var t,r,o,a,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=b._t("MultiFactorAuthentication.DELETE_CONFIRMATION",v["MultiFactorAuthentication.DELETE_CONFIRMATION"]),r=b._t("MultiFactorAuthentication.CONFIRMATION_TITLE",v["MultiFactorAuthentication.CONFIRMATION_TITLE"]),o=b._t("MultiFactorAuthentication.DELETE_CONFIRMATION_BUTTON",v["MultiFactorAuthentication.DELETE_CONFIRMATION_BUTTON"]),e.next=5,(0,d.default)(t,{title:r,confirmLabel:o});case 5:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:a=p.default.get("SecurityID"),_=h.replace("{urlSegment}",n.urlSegment)+"?SecurityID="+a,(0,m.default)(_,"DELETE").then(function(e){return e.json().then(function(t){if(200===e.status)return l(n),u(t.availableMethod),n.urlSegment===i&&c(null),void(!t.hasBackupMethod&&f&&s.find(function(e){return e.urlSegment===f.urlSegment})&&l(f));var r=t.errors&&" Errors: \n - "+t.errors.join("\n -")||"";throw Error("Could not delete method. Error code "+e.status+"."+r)})});case 10:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}();return a.default.createElement("button",{className:"registered-method-list-item__control",type:"button",onClick:r?r(y):y},b._t("MultiFactorAuthentication.REMOVE_METHOD",v["MultiFactorAuthentication.REMOVE_METHOD"]))};M.propTypes={method:E.default.isRequired,onRemove:l.default.func,defaultMethod:l.default.string.isRequired,registeredMethods:l.default.arrayOf(E.default).isRequired,onDeregisterMethod:l.default.func.isRequired,onAddAvailableMethod:l.default.func.isRequired,onSetDefaultMethod:l.default.func.isRequired},M.contextTypes={backupMethod:E.default,endpoints:l.default.shape({register:l.default.string,remove:l.default.string})},t.default=(0,u.connect)(function(e){var t=e.mfaAdministration;return{defaultMethod:t.defaultMethod,registeredMethods:t.registeredMethods}},function(e){return{onDeregisterMethod:function(t){e((0,b.deregisterMethod)(t))},onAddAvailableMethod:function(t){e((0,_.addAvailableMethod)(t))},onSetDefaultMethod:function(t){return e((0,b.setDefaultMethod)(t))}}})(M)},"./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem/Reset.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),d=r(c),f=n(2),p=n("./client/src/components/Register.js"),h=n("./client/src/state/mfaRegister/actions.js"),m=n("./client/src/types/registeredMethod.js"),_=r(m),b=n("./client/src/types/availableMethod.js"),y=r(b),E=n("./client/src/components/RegisterModal.js"),v=r(E),M=n("./client/lang/src/en.json"),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalOpen:!1},n.handleReset=n.handleReset.bind(n),n.handleToggleModal=n.handleToggleModal.bind(n),n}return a(t,e),s(t,[{key:"handleToggleModal",value:function(){this.setState(function(e){return{modalOpen:!e.modalOpen}})}},{key:"handleReset",value:function(){var e=this.props,t=e.onResetMethod,n=e.method,r=this.context.allAvailableMethods,o=r.find(function(e){return e.urlSegment===n.urlSegment});if(!o)throw Error("Cannot register the method given: "+n.name+" ("+n.urlSegment+").");t(o),this.handleToggleModal()}},{key:"render",value:function(){var e=this,t=this.props.onReset,n=this.context,r=n.backupMethod,o=n.endpoints,i=n.resources,a=t?function(){return t(e.handleReset)}:this.handleReset;return u.default.createElement("button",{className:"registered-method-list-item__control",type:"button",onClick:a},window.ss.i18n._t("MultiFactorAuthentication.RESET_METHOD",M["MultiFactorAuthentication.RESET_METHOD"]),u.default.createElement(v.default,{backupMethod:r,isOpen:this.state.modalOpen,toggle:this.handleToggleModal,resources:i,endpoints:o,disallowedScreens:[p.SCREEN_CHOOSE_METHOD,p.SCREEN_INTRODUCTION]}))}}]),t}(l.Component);g.propTypes={method:_.default.isRequired,onReset:d.default.func},g.contextTypes={allAvailableMethods:d.default.arrayOf(y.default),backupMethod:_.default,endpoints:d.default.shape({register:d.default.string}),resources:d.default.object},t.default=(0,f.connect)(null,function(e){return{onResetMethod:function(t){e((0,h.chooseMethod)(t)),e((0,h.showScreen)(p.SCREEN_REGISTER_METHOD))}}})(g)},"./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem/SetDefault.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),d=r(c),f=n("./client/src/types/registeredMethod.js"),p=r(f),h=n(5),m=r(h),_=n(2),b=n("./client/src/lib/api.js"),y=r(b),E=n("./client/src/state/mfaAdministration/actions.js"),v=n("./client/lang/src/en.json"),M=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSetDefault=n.handleSetDefault.bind(n),n}return a(t,e),s(t,[{key:"handleSetDefault",value:function(){var e=this.props,t=e.method,n=e.onSetDefaultMethod,r=this.context.endpoints.setDefault,o=m.default.get("SecurityID"),i=r.replace("{urlSegment}",t.urlSegment)+"?SecurityID="+o;(0,y.default)(i,"PUT").then(function(e){return e.json().then(function(r){if(200===e.status)return void n(t.urlSegment);var o=r.errors&&" Errors: \n - "+r.errors.join("\n -")||"";throw Error("Could not set default method. Error code "+e.status+"."+o)})})}},{key:"render",value:function(){var e=window,t=e.ss.i18n;return u.default.createElement("button",{className:"registered-method-list-item__control",type:"button",onClick:this.handleSetDefault},t._t("MultiFactorAuthentication.SET_AS_DEFAULT",v["MultiFactorAuthentication.SET_AS_DEFAULT"]))}}]),t}(l.Component);M.propTypes={method:p.default.isRequired},M.contextTypes={endpoints:d.default.shape({setDefault:d.default.string})};var g=function(e){return{onSetDefaultMethod:function(t){return e((0,E.setDefaultMethod)(t))}}};t.Component=M,t.default=(0,_.connect)(null,g)(M)},"./client/src/components/FormField/RegisteredMFAMethodListField/RegisteredMFAMethodListField.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(0),d=r(c),f=n(6),p=n(2),h=n(4),m=r(h),_=n("./client/src/types/registeredMethod.js"),b=r(_),y=n("./client/src/types/availableMethod.js"),E=r(y),v=n("./client/src/components/FormField/RegisteredMFAMethodListField/AccountResetUI.js"),M=r(v),g=n("./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem.js"),O=r(g),T=n("./client/src/state/mfaRegister/actions.js"),A=n("./client/src/state/mfaAdministration/actions.js"),R=n("./client/src/components/Register.js"),C=n("./client/src/components/RegisterModal.js"),S=r(C),w=n("./client/lang/src/en.json"),j=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalOpen:!1},n.handleToggleModal=n.handleToggleModal.bind(n),n}return a(t,e),s(t,[{key:"getChildContext",value:function(){var e=this.props;return{allAvailableMethods:e.allAvailableMethods,backupMethod:e.backupMethod,endpoints:e.endpoints,resources:e.resources}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onSetDefaultMethod,n=e.initialDefaultMethod,r=e.onSetRegisteredMethods,o=e.initialRegisteredMethods,i=e.onUpdateAvailableMethods,a=e.initialAvailableMethods;r(o),i(a),t(n)}},{key:"getBaseMethods",value:function(){var e=this.props.backupMethod,t=this.props.registeredMethods;return t?(e&&(t=t.filter(function(t){return t.urlSegment!==e.urlSegment})),t):[]}},{key:"handleToggleModal",value:function(){this.setState(function(e){return{modalOpen:!e.modalOpen}})}},{key:"renderNoMethodsMessage",value:function(){if(this.getBaseMethods().length)return null;var e=this.props.readOnly,t=window,n=t.ss.i18n,r=e?"MultiFactorAuthentication.NO_METHODS_REGISTERED_READONLY":"MultiFactorAuthentication.NO_METHODS_REGISTERED";return d.default.createElement("div",{className:"registered-mfa-method-list-field__no-methods"},n._t(r,w[r]))}},{key:"renderBackupMethod",value:function(){var e=this.props,t=e.backupMethod,n=e.backupCreatedDate,r=e.registeredMethods,o=e.readOnly;if(!t)return null;var i=r.find(function(e){return e.urlSegment===t.urlSegment});return i?d.default.createElement(O.default,{method:i,createdDate:n,canReset:!o,isBackupMethod:!0,tag:"div",className:"registered-method-list-item--backup"}):null}},{key:"renderBaseMethods",value:function(){var e=this.props.isMFARequired,t=this.getBaseMethods();if(!t.length)return[];var n=this.props,r=n.defaultMethod,o=n.readOnly;return t.map(function(n){var i={method:n,key:n.urlSegment,isDefaultMethod:r&&n.urlSegment===r,canRemove:!(o||e&&1===t.length),canReset:!o};return d.default.createElement(O.default,i)})}},{key:"renderModal",value:function(){var e=this.props,t=e.backupMethod,n=e.endpoints,r=e.resources;return d.default.createElement(S.default,{backupMethod:t,isOpen:this.state.modalOpen,toggle:this.handleToggleModal,resources:r,endpoints:n,disallowedScreens:[R.SCREEN_INTRODUCTION]})}},{key:"renderAddButton",value:function(){var e=this,t=this.props,n=t.availableMethods,r=t.registeredMethods,o=t.readOnly,i=t.onResetRegister;if(o||!n||0===n.length)return null;var a=window,s=a.ss.i18n,l=r.length?s._t("MultiFactorAuthentication.ADD_ANOTHER_METHOD",w["MultiFactorAuthentication.ADD_ANOTHER_METHOD"]):s._t("MultiFactorAuthentication.ADD_FIRST_METHOD",w["MultiFactorAuthentication.ADD_FIRST_METHOD"]);return d.default.createElement(f.Button,{className:"registered-mfa-method-list-field__button",outline:!0,type:"button",onClick:function(){e.handleToggleModal(),i()}},l)}},{key:"render",value:function(){var e=this.props,t=e.readOnly,n=e.resetEndpoint,r=(0,m.default)({"registered-mfa-method-list-field":!0,"registered-mfa-method-list-field--read-only":t});return d.default.createElement("div",{className:r},d.default.createElement("ul",{className:"method-list"},this.renderBaseMethods()),this.renderNoMethodsMessage(),this.renderAddButton(),this.renderBackupMethod(),t&&d.default.createElement("hr",null),t&&d.default.createElement(M.default,{resetEndpoint:n}),this.renderModal())}}]),t}(c.Component);j.propTypes={backupMethod:b.default,defaultMethod:u.default.string,readOnly:u.default.bool,isMFARequired:u.default.bool,initialDefaultMethod:u.default.string,initialRegisteredMethods:u.default.arrayOf(b.default),initialAvailableMethods:u.default.arrayOf(E.default),allAvailableMethods:u.default.arrayOf(E.default),resetEndpoint:u.default.string,endpoints:u.default.shape({register:u.default.string,remove:u.default.string}),resources:u.default.object,availableMethods:u.default.arrayOf(E.default),registeredMethods:u.default.arrayOf(b.default),registrationScreen:u.default.number},j.defaultProps={initialAvailableMethods:[]},j.childContextTypes={allAvailableMethods:u.default.arrayOf(E.default),backupMethod:b.default,endpoints:u.default.shape({register:u.default.string,remove:u.default.string,setDefault:u.default.string}),resources:u.default.object};var N=function(e){return{onResetRegister:function(){e((0,T.chooseMethod)(null)),e((0,T.showScreen)(R.SCREEN_CHOOSE_METHOD))},onUpdateAvailableMethods:function(t){e((0,T.setAvailableMethods)(t))},onSetDefaultMethod:function(t){e((0,A.setDefaultMethod)(t))},onSetRegisteredMethods:function(t){e((0,A.setRegisteredMethods)(t))}}},k=function(e){var t=e.mfaRegister,n=t.availableMethods,r=t.screen,o=e.mfaAdministration;return{availableMethods:n,defaultMethod:o.defaultMethod,registeredMethods:o.registeredMethods||[],registrationScreen:r}};t.Component=j,t.default=(0,p.connect)(k,N)(j)},"./client/src/components/Icons/CircleDash.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,i=void 0===r?"3em":r;return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:i,width:i},o.default.createElement("g",{fill:n},o.default.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"})))}},"./client/src/components/Icons/CircleTick.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,i=void 0===r?"3em":r;return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:i,width:i},o.default.createElement("g",{fill:n},o.default.createElement("path",{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})))}},"./client/src/components/LoadingIndicator.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(4),s=r(a);t.default=function(e){var t=e.block,n=void 0!==t&&t,r=e.size,o=void 0===r?"6em":r;return i.default.createElement("div",{style:{height:o,width:o},className:(0,s.default)({"mfa-loading-indicator":!0,"mfa-loading-indicator--block":n})})}},"./client/src/components/Register.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.SCREEN_COMPLETE=t.SCREEN_CHOOSE_METHOD=t.SCREEN_REGISTER_METHOD=t.SCREEN_INTRODUCTION=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=r(c),f=n(1),p=r(f),h=n("./client/src/lib/api.js"),m=r(h),_=n(3),b=n("./client/src/types/availableMethod.js"),y=r(b),E=n("./client/src/types/registeredMethod.js"),v=r(E),M=n("./client/src/components/LoadingIndicator.js"),g=r(M),O=n("./client/src/components/Register/Introduction.js"),T=r(O),A=n("./client/src/components/Register/Complete.js"),R=r(A),C=n("./client/src/components/Register/SelectMethod.js"),S=r(C),w=n(2),j=n("./client/src/state/mfaRegister/actions.js"),N=n("./client/src/components/Register/Title.js"),k=r(N);t.SCREEN_INTRODUCTION=1,t.SCREEN_REGISTER_METHOD=2,t.SCREEN_CHOOSE_METHOD=3,t.SCREEN_COMPLETE=4;var F=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={registerProps:null,token:null},n.handleBack=n.handleBack.bind(n),n.handleCompleteRegistration=n.handleCompleteRegistration.bind(n),n.handleSkip=n.handleSkip.bind(n),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.selectedMethod&&this.fetchStartRegistrationData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedMethod;t&&JSON.stringify(t)!==JSON.stringify(e.selectedMethod)&&this.fetchStartRegistrationData()}},{key:"setupBackupMethod",value:function(){var e=this.props,t=e.backupMethod,n=e.selectedMethod,r=e.onShowComplete,o=e.onSelectMethod;if(this.shouldSetupBackupMethod()&&n.urlSegment!==t.urlSegment)return void o(t);r()}},{key:"fetchStartRegistrationData",value:function(){var e=this,t=this.props,n=t.endpoints.register,r=t.selectedMethod,i=n.replace("{urlSegment}",r.urlSegment);(0,m.default)(i).then(function(t){return t.json().then(function(t){var n=t.SecurityID,r=o(t,["SecurityID"]);e.setState({registerProps:r,token:n})})})}},{key:"handleBack",value:function(){var e=this.props,t=e.availableMethods,n=e.onShowIntroduction,r=e.onShowChooseMethod;return 1===t.length&&n?n():(this.setState({registerProps:null}),r())}},{key:"handleCompleteRegistration",value:function(e){var t=this,n=this.props,r=n.endpoints.register,o=n.selectedMethod,i=n.onRemoveAvailableMethod,a=n.onRegister,s=this.state.token,u=s?"?SecurityID="+s:"";(0,m.default)(""+r.replace("{urlSegment}",o.urlSegment)+u,"POST",JSON.stringify(e)).then(function(e){switch(e.status){case 201:return t.setState({registerProps:null}),"function"==typeof a&&a(o),i(o),t.setupBackupMethod(),null}return e.json()}).then(function(e){if(e&&e.errors){var n=e.errors.join(", ");t.setState({registerProps:l({},t.state.registerProps,{error:n})})}})}},{key:"shouldSetupBackupMethod",value:function(){var e=this.props,t=e.backupMethod,n=e.registeredMethods;return!!t&&!n.find(function(e){return e.urlSegment===t.urlSegment})}},{key:"handleSkip",value:function(){this.props.endpoints.skip&&(window.location=this.props.endpoints.skip)}},{key:"renderIntroduction",value:function(){var e=this.props,t=e.canSkip,n=e.resources,r=e.endpoints.skip,o=e.showSubTitle;return d.default.createElement(T.default,{canSkip:r&&t,onSkip:this.handleSkip,resources:n,showTitle:o})}},{key:"renderMethod",value:function(){var e=this.props,t=e.selectedMethod,n=e.showSubTitle,r=this.state.registerProps;if(!t)return null;if(!r)return d.default.createElement(g.default,{block:!0});var o=(0,_.loadComponent)(t.component);return d.default.createElement("div",null,n&&d.default.createElement(k.default,null),d.default.createElement(o,l({},r,{method:t,onBack:this.handleBack,onCompleteRegistration:this.handleCompleteRegistration})))}},{key:"renderOptions",value:function(){var e=this.props,t=e.availableMethods,n=e.showSubTitle;return d.default.createElement(S.default,{methods:t,showTitle:n})}},{key:"render",value:function(){var e=this.props,t=e.screen,n=e.onCompleteRegistration,r=e.showTitle,o=e.showSubTitle,i=e.completeMessage,a=window,s=a.ss.i18n;if(4===t)return d.default.createElement(R.default,{showTitle:o,onComplete:n,message:i});var l=void 0;switch(t){default:case 1:l=this.renderIntroduction();break;case 3:l=this.renderOptions();break;case 2:l=this.renderMethod()}return d.default.createElement("div",null,r&&d.default.createElement("h1",{className:"mfa-app-title"},s._t("MFARegister.TITLE","Multi-factor authentication")),l)}}]),t}(c.Component);F.propTypes={availableMethods:p.default.arrayOf(y.default),backupMethod:y.default,canSkip:p.default.bool,endpoints:p.default.shape({register:p.default.string.isRequired,skip:p.default.string}),onRegister:p.default.func,onCompleteRegistration:p.default.func.isRequired,registeredMethods:p.default.arrayOf(v.default),resources:p.default.object,showTitle:p.default.bool,showSubTitle:p.default.bool},F.defaultProps={resources:{},showTitle:!0,showSubTitle:!0,showIntroduction:!0};var D=function(e){var t=e.mfaRegister||e;return{screen:t.screen,selectedMethod:t.method,availableMethods:t.availableMethods}},I=function(e){return{onShowIntroduction:function(){return e((0,j.showScreen)(1))},onShowComplete:function(){return e((0,j.showScreen)(4))},onSelectMethod:function(t){return e((0,j.chooseMethod)(t))},onShowChooseMethod:function(){e((0,j.chooseMethod)(null)),e((0,j.showScreen)(3))},onRemoveAvailableMethod:function(t){return e((0,j.removeAvailableMethod)(t))}}};t.Component=F,t.default=(0,w.connect)(D,I)(F)},"./client/src/components/Register/Complete.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(1),s=r(a),l=n("./client/src/components/Register/Title.js"),u=r(l),c=function(e){var t=e.onComplete,n=e.showTitle,r=e.message;return i.default.createElement("div",{className:"mfa-register-confirmation"},i.default.createElement("i",{className:"font-icon-check-mark mfa-register-confirmation__icon"}),n&&i.default.createElement(u.default,{className:"mfa-register-confirmation__title"}),i.default.createElement("p",{className:"mfa-register-confirmation__description"},r||window.ss.i18n._t("MFARegister.SETUP_COMPLETE_DESCRIPTION","You will be able to edit these settings later from your profile area.")),i.default.createElement("button",{onClick:t,className:"mfa-register-confirmation__continue btn btn-primary"},window.ss.i18n._t("MFARegister.SETUP_COMPLETE_CONTINUE","Continue")))};c.propTypes={onComplete:s.default.func.isRequired,showTitle:s.default.bool},c.defaultProps={showTitle:!0},t.default=c},"./client/src/components/Register/Introduction.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ActionList=void 0;var o=n(0),i=r(o),a=n(1),s=r(a),l=n("./client/src/state/mfaRegister/actions.js"),u=n("./client/src/components/Register.js"),c=n(2),d=n("./client/src/components/Register/Title.js"),f=r(d),p=n("./client/lang/src/en.json"),h=t.ActionList=function(e){var t=e.canSkip,n=e.onContinue,r=e.onSkip,o=window,a=o.ss.i18n;return i.default.createElement("ul",{className:"mfa-action-list"},i.default.createElement("li",{className:"mfa-action-list__item"},i.default.createElement("button",{className:"btn btn-primary",onClick:n},a._t("MultiFactorAuthentication.GET_STARTED",p["MultiFactorAuthentication.GET_STARTED"]))),t&&i.default.createElement("li",{className:"mfa-action-list__item"},i.default.createElement("button",{className:"btn btn-secondary",onClick:r},a._t("MultiFactorAuthentication.SETUP_LATER",p["MultiFactorAuthentication.SETUP_LATER"]))))},m=function(e){var t=e.canSkip,n=e.onContinue,r=e.onSkip,o=e.resources,a=e.showTitle,s=window,l=s.ss.i18n;return i.default.createElement("div",null,a&&i.default.createElement(f.default,null),i.default.createElement("h4",{className:"mfa-feature-list-title"},l._t("MultiFactorAuthentication.HOW_IT_WORKS",p["MultiFactorAuthentication.HOW_IT_WORKS"])),i.default.createElement("ul",{className:"mfa-feature-list"},i.default.createElement("li",{className:"mfa-feature-list-item"},o.extra_factor_image_url&&i.default.createElement("img",{alt:l._t("MultiFactorAuthentication.EXTRA_LAYER_IMAGE_ALT",p["MultiFactorAuthentication.EXTRA_LAYER_IMAGE_ALT"]),"aria-hidden":"true",className:"mfa-feature-list-item__icon",src:o.extra_factor_image_url}),i.default.createElement("div",{className:"mfa-feature-list-item__content"},i.default.createElement("h5",{className:"mfa-block-heading mfa-feature-list-item__title"},l._t("MultiFactorAuthentication.EXTRA_LAYER_TITLE",p["MultiFactorAuthentication.EXTRA_LAYER_TITLE"])),i.default.createElement("p",{className:"mfa-feature-list-item__description"},l._t("MultiFactorAuthentication.EXTRA_LAYER_DESCRIPTION",p["MultiFactorAuthentication.EXTRA_LAYER_DESCRIPTION"]),"Â ",o.user_help_link&&i.default.createElement("a",{href:o.user_help_link},l._t("MultiFactorAuthentication.HOW_MFA_WORKS",p["MultiFactorAuthentication.HOW_MFA_WORKS"]))))),i.default.createElement("li",{className:"mfa-feature-list-item"},o.unique_image_url&&i.default.createElement("img",{alt:l._t("MultiFactorAuthentication.UNIQUE_IMAGE_ALT",p["MultiFactorAuthentication.UNIQUE_IMAGE_ALT"]),"aria-hidden":"true",className:"mfa-feature-list-item__icon",src:o.unique_image_url}),i.default.createElement("div",{className:"mfa-feature-list-item__content"},i.default.createElement("h5",{className:"mfa-block-heading mfa-feature-list-item__title"},l._t("MultiFactorAuthentication.UNIQUE_TITLE",p["MultiFactorAuthentication.UNIQUE_TITLE"])),i.default.createElement("p",{className:"mfa-feature-list-item__description"},l._t("MultiFactorAuthentication.UNIQUE_DESCRIPTION",p["MultiFactorAuthentication.UNIQUE_DESCRIPTION"]))))),i.default.createElement(h,{canSkip:t,onContinue:n,onSkip:r}))};m.propTypes={canSkip:s.default.bool,onContinue:s.default.func.isRequired,onSkip:s.default.func,resources:s.default.shape({user_help_link:s.default.string,extra_factor_image_url:s.default.string,unique_image_url:s.default.string}).isRequired,showTitle:s.default.bool},m.defaultProps={showTitle:!0},t.Component=m;var _=function(e){return{onContinue:function(){e((0,l.chooseMethod)(null)),e((0,l.showScreen)(u.SCREEN_REGISTER_METHOD))}}};t.default=(0,c.connect)(null,_)(m)},"./client/src/components/Register/MethodTile.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),d=r(c),f=n(4),p=r(f),h=n("./client/src/types/availableMethod.js"),m=r(h),_=n("./client/src/state/methodAvailability/withMethodAvailability.js"),b=r(_),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return a(t,e),s(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.method.isAvailable,r=t.onClick;n&&r&&r(e)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.handleClick(e)}},{key:"renderSupportLink",value:function(e){var t=window,n=t.ss.i18n,r=e.supportLink,o=e.supportText;return r?u.default.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"mfa-method-tile__support-link"},o||n._t("MFARegister.HELP","Find out more.")):null}},{key:"renderUnavailableMask",value:function(){var e=window,t=e.ss.i18n,n=this.props,r=n.isAvailable,o=n.getUnavailableMessage;if(r())return null;var i=o();return u.default.createElement("div",{className:"mfa-method-tile__unavailable-mask"},u.default.createElement("h3",{className:"mfa-method-tile__unavailable-title"},t._t("MFAMethodTile.UNAVAILABLE","Unsupported: ")),i&&u.default.createElement("p",{className:"mfa-method-tile__unavailable-text"},i))}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.method,r=window,o=r.ss.i18n,i=(0,p.default)("mfa-method-tile",{"mfa-method-tile--active":t,"mfa-method-tile--unsupported":!n.isAvailable}),a=(0,p.default)("mfa-method-tile__thumbnail-container",{"mfa-method-tile__thumbnail-container--unsupported":!n.isAvailable}),s=o.inject(o._t("MFARegister.REGISTER_WITH","Register with {method}"),{method:n.name.toLowerCase()});return u.default.createElement("li",{className:i},u.default.createElement("div",{className:"mfa-method-tile__content",onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:"0",role:"button"},n.thumbnail&&u.default.createElement("div",{className:a},u.default.createElement("img",{src:n.thumbnail,className:"mfa-method-tile__thumbnail",alt:n.name})),u.default.createElement("h3",{className:"mfa-method-tile__title"},s),u.default.createElement("p",{className:"mfa-method-tile__description"},n.description&&n.description+". ",this.renderSupportLink(n))),this.renderUnavailableMask())}}]),t}(l.Component);y.propTypes={getUnavailableMessage:d.default.func.isRequired,isActive:d.default.bool,isAvailable:d.default.func.isRequired,method:m.default.isRequired,onClick:d.default.func.isRequired},y.defaultProps={isActive:!1},t.Component=y,t.default=(0,b.default)(y)},"./client/src/components/Register/SelectMethod.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),d=r(c),f=n("./client/src/components/Register/MethodTile.js"),p=r(f),h=n("./client/src/types/availableMethod.js"),m=r(h),_=n(4),b=r(_),y=n("./client/src/components/Register.js"),E=n("./client/src/state/mfaRegister/actions.js"),v=n(7),M=n(2),g=n("./client/src/state/methodAvailability/withMethodAvailability.js"),O=r(g),T=n("./client/src/components/Register/Title.js"),A=r(T),R=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=null;return 1===e.methods.length&&e.isAvailable&&e.isAvailable(e.methods[0])&&(r=e.methods[0]),n.state={highlightedMethod:r},n.handleGoToNext=n.handleGoToNext.bind(n),n.handleBack=n.handleBack.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.state.highlightedMethod&&this.handleGoToNext()}},{key:"handleGoToNext",value:function(){var e=this.state.highlightedMethod;this.props.onSelectMethod(e)}},{key:"handleClick",value:function(e){this.setState({highlightedMethod:e})}},{key:"handleBack",value:function(){this.props.onClickBack&&this.props.onClickBack()}},{key:"renderActions",value:function(){var e=window,t=e.ss.i18n,n=this.state.highlightedMethod;return u.default.createElement("ul",{className:"mfa-action-list"},u.default.createElement("li",{className:"mfa-action-list__item"},u.default.createElement("button",{className:"btn btn-primary",disabled:null===n,onClick:this.handleGoToNext},t._t("MFARegister.NEXT","Next"))),u.default.createElement("li",{className:"mfa-action-list__item"},u.default.createElement("button",{className:"btn btn-secondary",onClick:this.handleBack},t._t("MFARegister.BACK","Back"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.methods,r=t.showTitle,o=this.state.highlightedMethod,i=(0,b.default)("mfa-method-tile-group",{"mfa-method-tile-group--three-columns":n.length%3==0});return u.default.createElement("div",null,r&&u.default.createElement(A.default,null),u.default.createElement("ul",{className:i},n.map(function(t){return u.default.createElement(p.default,{isActive:o===t,key:t.urlSegment,method:t,onClick:function(){return e.handleClick(t)}})})),this.renderActions())}}]),t}(l.Component);R.propTypes={methods:d.default.arrayOf(m.default),onSelectMethod:d.default.func,onClickBack:d.default.func,showTitle:d.default.bool},R.defaultProps={showTitle:!0};var C=function(e){return{onClickBack:function(){return e((0,E.showScreen)(y.SCREEN_INTRODUCTION))},onSelectMethod:function(t){e((0,E.chooseMethod)(t)),e((0,E.showScreen)(y.SCREEN_REGISTER_METHOD))}}};t.Component=R,t.default=(0,v.compose)((0,M.connect)(null,C),O.default)(R)},"./client/src/components/Register/Title.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n("./client/src/components/Register.js"),a=n(2),s=n("./client/lang/src/en.json"),l=function(e){var t=e.screen,n=e.method,r=e.Tag,a=void 0===r?"h2":r,l=e.className,u=void 0===l?"mfa-section-title":l,c=window,d=c.ss.i18n,f=void 0;switch(t){case i.SCREEN_INTRODUCTION:f=d._t("MultiFactorAuthentication.TITLE",s["MultiFactorAuthentication.TITLE"]);break;case i.SCREEN_CHOOSE_METHOD:f=d._t("MultiFactorAuthentication.SELECT_METHOD",s["MultiFactorAuthentication.SELECT_METHOD"]);break;case i.SCREEN_COMPLETE:f=d._t("MultiFactorAuthentication.SETUP_COMPLETE_TITLE",s["MultiFactorAuthentication.SETUP_COMPLETE_TITLE"]);break;case i.SCREEN_REGISTER_METHOD:f=n&&d.inject(d._t("MFARegister.REGISTER_WITH","Register with {method}"),{method:n.name.toLowerCase()});break;default:f=!1}if(!f||!f.length)return null;var p=a||"span";return o.default.createElement(p,{className:u},f)};t.Component=l;var u=function(e){var t=e.mfaRegister||e;return{screen:t.screen,method:t.method}};t.default=(0,a.connect)(u)(l)},"./client/src/components/RegisterModal.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),d=r(c),f=n(6),p=n(3),h=n(7),m=n(2),_=n("./client/src/components/Register/Title.js"),b=r(_),y=n("./client/src/state/mfaAdministration/actions.js"),E=n("./client/src/types/registeredMethod.js"),v=r(E),M=n("./client/src/components/Register.js"),g=n("./client/lang/src/en.json"),O=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRegister=n.handleRegister.bind(n),n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.disallowedScreens,n=e.isOpen,r=e.registrationScreen,o=e.toggle;n&&t.length&&t.includes(r)&&o()}},{key:"handleRegister",value:function(e){var t=this.props,n=t.onAddRegisteredMethod,r=t.onSetDefaultMethod;t.registeredMethods.length||r(e.urlSegment),n(e)}},{key:"render",value:function(){var e=this.props,t=e.backupMethod,n=e.endpoints,r=e.isOpen,o=e.toggle,i=e.registeredMethods,a=e.registrationScreen,s=e.resources,l=e.RegisterComponent;return u.default.createElement(f.Modal,{isOpen:r,toggle:o,className:"registered-mfa-method-list-field-register-modal"},u.default.createElement(f.ModalHeader,{toggle:o},u.default.createElement(b.default,{Tag:null})),u.default.createElement(f.ModalBody,{className:"registered-mfa-method-list-field-register-modal__content"},a!==M.SCREEN_INTRODUCTION&&u.default.createElement(l,{backupMethod:t,registeredMethods:i,onCompleteRegistration:o,onRegister:this.handleRegister,resources:s,endpoints:n,showTitle:!1,showSubTitle:!1,completeMessage:window.ss.i18n._t("MultiFactorAuthentication.ADMIN_SETUP_COMPLETE_CONTINUE",g["MultiFactorAuthentication.ADMIN_SETUP_COMPLETE_CONTINUE"])})))}}]),t}(l.Component);O.propTypes={isOpen:d.default.bool,toggle:d.default.func,disallowedScreens:d.default.arrayOf(d.default.number),backupMethod:v.default,resources:d.default.object,endpoints:d.default.shape({register:d.default.string}),registrationScreen:d.default.number,registeredMethods:d.default.arrayOf(v.default),onAddRegisteredMethod:d.default.func,onSetDefaultMethod:d.default.func,RegisterComponent:d.default.oneOfType([d.default.element,d.default.func,d.default.elementType])},O.defaultProps={isOpen:!1,disallowedScreens:[]};var T=function(e){return{registrationScreen:e.mfaRegister.screen,registeredMethods:e.mfaAdministration.registeredMethods}},A=function(e){return{onAddRegisteredMethod:function(t){e((0,y.registerMethod)(t))},onSetDefaultMethod:function(t){return e((0,y.setDefaultMethod)(t))}}};t.Component=O,t.default=(0,h.compose)((0,p.inject)(["MFARegister"],function(e){return{RegisterComponent:e}},function(){return"MFARegisterModal"}),(0,m.connect)(T,A))(O)},"./client/src/legacy/RegisteredMFAMethodListFieldEntwine.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(0),i=r(o),a=n(8),s=r(a),l=n(3);window.jQuery.entwine("ss",function(e){e('.js-injector-boot [data-field-type="registered-mfa-method-list-field"]').entwine({onmatch:function(){var e=(0,l.loadComponent)("RegisteredMFAMethodListField"),t=this.data("schema"),n=t.readOnly,r=t.schema,o=r.backupMethod,a=r.defaultMethod,u=r.registeredMethods,c=r.availableMethods,d=r.allAvailableMethods,f=r.resources,p=r.endpoints,h=r.backupCreatedDate,m=r.resetEndpoint,_=r.isMFARequired;s.default.render(i.default.createElement(e,{backupMethod:o,readOnly:n,initialDefaultMethod:a,initialRegisteredMethods:u,initialAvailableMethods:c,allAvailableMethods:d,resources:f,endpoints:p,backupCreatedDate:h,resetEndpoint:m,isMFARequired:_}),this[0])}})})},"./client/src/legacy/SiteConfig.js":function(e,t,n){"use strict";window.jQuery.entwine("ss",function(e){e('[name="MFARequired"]').entwine({onchange:function(){parseInt(this.val(),10)?e(".mfa-settings__grace-period").removeAttr("disabled"):e(".mfa-settings__grace-period").attr("disabled","disabled")},onmatch:function(){this.onchange()}})})},"./client/src/legacy/index.js":function(e,t,n){"use strict";n("./client/src/legacy/RegisteredMFAMethodListFieldEntwine.js"),n("./client/src/legacy/SiteConfig.js")},"./client/src/lib/api.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fetch(e,{body:n,credentials:"same-origin",headers:r,method:t})};t.default=r},"./client/src/lib/formatCode.js":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(e.length<6)return e;if(e.length%4==0)return e.split(/(.{4})/g).filter(function(e){return e}).join(t).trim();if(e.length%3==0)return e.split(/(.{3})/g).filter(function(e){return e}).join(t).trim();var n=4-e.length%4,o=(e.length-3*n)/4,i=[].concat(r([].concat(r(Array(o).keys())).map(function(){return 4})),r([].concat(r(Array(n).keys())).map(function(){return 3}))),a=0;return i.map(function(t){return e.substring(a,a+=t)}).join(t).trim()};t.formatCode=o},"./client/src/state/methodAvailability/withMethodAvailability.js":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hoc=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=n(2),f=n(7),p=function(e){return e.displayName||e.name||"Component"},h=function(e){var t=function(t){function n(e){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.getAvailabilityOverride=t.getAvailabilityOverride.bind(t),t.isAvailable=t.isAvailable.bind(t),t.getUnavailableMessage=t.getUnavailableMessage.bind(t),t}return a(n,t),l(n,[{key:"getAvailabilityOverride",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.availableMethodOverrides,n=e||this.props.method,r=n.urlSegment;return void 0!==t[r]?t[r]:{}}},{key:"getUnavailableMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||this.props.method;return this.getAvailabilityOverride(t).unavailableMessage||t.unavailableMessage}},{key:"isAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||this.props.method,n=this.getAvailabilityOverride(t),r=t.isAvailable;return void 0!==n.isAvailable&&(r=n.isAvailable),r}},{key:"render",value:function(){return c.default.createElement(e,s({},this.props,{isAvailable:this.isAvailable,getUnavailableMessage:this.getUnavailableMessage}))}}]),n}(u.Component),n=p(e);return t.displayName="WithMethodAvailability("+n+")",t},m=function(e){var t=[].concat(r(e.mfaRegister.availableMethods),r(e.mfaVerify.allMethods)),n={};return Object.values(t).forEach(function(t){var r=t.urlSegment,o=r+"Availability";void 0!==e[o]&&(n[r]=e[o])}),{availableMethodOverrides:n}};t.hoc=h;var _=(0,f.compose)((0,d.connect)(m),h);t.default=_},"./client/src/state/mfaAdministration/actionTypes.js":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ADD_REGISTERED_METHOD","REMOVE_REGISTERED_METHOD","SET_DEFAULT_METHOD","SET_REGISTERED_METHODS"].reduce(function(e,t){return Object.assign(e,r({},t,"MFA_ADMINISTRATION."+t))},{})},"./client/src/state/mfaAdministration/actions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRegisteredMethods=t.setDefaultMethod=t.deregisterMethod=t.registerMethod=void 0;var r=n("./client/src/state/mfaAdministration/actionTypes.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.registerMethod=function(e){return{type:o.default.ADD_REGISTERED_METHOD,payload:{method:e}}},t.deregisterMethod=function(e){return{type:o.default.REMOVE_REGISTERED_METHOD,payload:{method:e}}},t.setDefaultMethod=function(e){return{type:o.default.SET_DEFAULT_METHOD,payload:{defaultMethod:e}}},t.setRegisteredMethods=function(e){return{type:o.default.SET_REGISTERED_METHODS,payload:{methods:e}}}},"./client/src/state/mfaAdministration/reducer.js":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload,a=function(e){return function(t){return t.urlSegment===e.urlSegment}},u=e.registeredMethods;switch(n){case s.default.ADD_REGISTERED_METHOD:var c=o.method;return Array.isArray(u)?u.find(a(c))?e:(u.push(c),i({},e,{registeredMethods:u})):i({},e,{registeredMethods:[c]});case s.default.REMOVE_REGISTERED_METHOD:var d=o.method,f=u.findIndex(a(d));if(f<0)return e;u.splice(f,1);var p=2===u.length?{defaultMethod:u.find(function(){return!0}).urlSegment}:{};return i({},e,p,{registeredMethods:[].concat(r(u))});case s.default.SET_DEFAULT_METHOD:return i({},e,{defaultMethod:o.defaultMethod});case s.default.SET_REGISTERED_METHODS:return i({},e,{registeredMethods:o.methods});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n("./client/src/state/mfaAdministration/actionTypes.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l={defaultMethod:null,registeredMethods:[]}},"./client/src/state/mfaRegister/actionTypes.js":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ADD_AVAILABLE_METHOD","REMOVE_AVAILABLE_METHOD","SET_AVAILABLE_METHODS","SET_SCREEN","SET_METHOD"].reduce(function(e,t){return Object.assign(e,r({},t,"MFA_REGISTER."+t))},{})},"./client/src/state/mfaRegister/actions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAvailableMethod=t.addAvailableMethod=t.setAvailableMethods=t.chooseMethod=t.showScreen=void 0;var r=n("./client/src/state/mfaRegister/actionTypes.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.showScreen=function(e){return{type:o.default.SET_SCREEN,payload:{screen:e}}},t.chooseMethod=function(e){return{type:o.default.SET_METHOD,payload:{method:e}}},t.setAvailableMethods=function(e){return{type:o.default.SET_AVAILABLE_METHODS,payload:{availableMethods:e}}},t.addAvailableMethod=function(e){return{type:o.default.ADD_AVAILABLE_METHOD,payload:{method:e}}},t.removeAvailableMethod=function(e){return{type:o.default.REMOVE_AVAILABLE_METHOD,payload:{method:e}}}},"./client/src/state/mfaRegister/reducer.js":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;switch(n){case s.default.SET_SCREEN:var a=o.screen;return null===e.method&&a===l.SCREEN_REGISTER_METHOD?i({},e,{screen:l.SCREEN_CHOOSE_METHOD}):i({},e,{screen:a});case s.default.SET_METHOD:return i({},e,{method:o.method});case s.default.SET_AVAILABLE_METHODS:return i({},e,{availableMethods:o.availableMethods});case s.default.ADD_AVAILABLE_METHOD:return i({},e,{availableMethods:[].concat(r(e.availableMethods),[o.method])});case s.default.REMOVE_AVAILABLE_METHOD:return i({},e,{availableMethods:e.availableMethods.filter(function(e){return e.urlSegment!==o.method.urlSegment})});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n("./client/src/state/mfaRegister/actionTypes.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n("./client/src/components/Register.js"),u={screen:l.SCREEN_INTRODUCTION,method:null,availableMethods:[]}},"./client/src/state/mfaVerify/actionTypes.js":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["SET_ALL_METHODS"].reduce(function(e,t){return Object.assign(e,r({},t,"MFA_VERIFY."+t))},{})},"./client/src/state/mfaVerify/reducer.js":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case a.default.SET_ALL_METHODS:return o({},e,{allMethods:r.allMethods});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var i=n("./client/src/state/mfaVerify/actionTypes.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s={allMethods:[]}},"./client/src/types/availableMethod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default.shape({urlSegment:o.default.string,name:o.default.string,description:o.default.string,supportLink:o.default.string,supportText:o.default.string,thumbnail:o.default.string,component:o.default.string,isAvailable:o.default.bool,unavailableMessage:o.default.string})},"./client/src/types/registeredMethod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default.shape({name:o.default.string,urlSegment:o.default.string,isAvailable:o.default.bool,unavailableMessage:o.default.string,component:o.default.string,supportLink:o.default.string,thumbnail:o.default.string})},"./node_modules/@babel/runtime/helpers/extends.js":function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/inheritsLoose.js":function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var o=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/interopRequireWildcard.js":function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}var i=n("./node_modules/@babel/runtime/helpers/typeof.js").default;e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(e,t){function n(t){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@silverstripe/reactstrap-confirm/dist/Confirmation.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=void 0;var i=o(n("./node_modules/@babel/runtime/helpers/inheritsLoose.js")),a=r(n(0)),s=o(n(1)),l=n(6),u=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={isOpen:!0},n}return(0,i.default)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.onConfirm,r=t.onCancel,o=t.title,i=t.body,s=t.confirmLabel,u=t.dismissLabel,c=t.showDismissButton,d=this.state.isOpen,f=function(){"function"==typeof r&&r(),e.setState({isOpen:!1})},p=function(){n(),e.setState({isOpen:!1})};return a.default.createElement(l.Modal,{isOpen:d,toggle:f},o&&a.default.createElement(l.ModalHeader,{toggle:f},o),a.default.createElement(l.ModalBody,null,i),a.default.createElement(l.ModalFooter,null,a.default.createElement(l.Button,{color:"primary",onClick:p},s),(c||!o)&&a.default.createElement(l.Button,{onClick:f},u||"Cancel")))},t}(a.Component);u.propTypes={onConfirm:s.default.func.isRequired,body:s.default.string.isRequired,onCancel:s.default.func,title:s.default.string,confirmLabel:s.default.string,dismissLabel:s.default.string},u.defaultProps={confirmLabel:"Confirm"};var c=u;t.default=c},"./node_modules/@silverstripe/reactstrap-confirm/dist/confirm.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),i=r(n(0)),a=r(n(8)),s=r(n("./node_modules/@silverstripe/reactstrap-confirm/dist/Confirmation.js")),l=function(e,t,n,r,l){void 0===t&&(t={}),void 0===n&&(n=document.body),void 0===r&&(r=350);var u=l||s.default,c=n.appendChild(document.createElement("div"));return new Promise(function(s){var l=function(e){return function(){s(e),setTimeout(function(){a.default.unmountComponentAtNode(c),setTimeout(function(){return n.removeChild(c)})},r)}};a.default.render(i.default.createElement(u,(0,o.default)({},t,{onConfirm:l(!0),onCancel:l(!1),body:e})),c)})},u=l;t.default=u},"./node_modules/@silverstripe/reactstrap-confirm/dist/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=void 0;var o=r(n("./node_modules/@silverstripe/reactstrap-confirm/dist/confirm.js")),i=r(n("./node_modules/@silverstripe/reactstrap-confirm/dist/Confirmation.js"));t.Confirmation=i.default;var a=o.default;t.default=a},"./node_modules/copy-to-clipboard/index.js":function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"â":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function o(e,t){var n,o,l,u,c,d,f=!1;t||(t={}),n=t.debug||!1;try{if(l=i(),u=document.createRange(),c=document.getSelection(),d=document.createElement("span"),d.textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(d),u.selectNodeContents(d),c.addRange(u),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");f=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),o=r("message"in t?t.message:s),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(u):c.removeAllRanges()),d&&document.body.removeChild(d),l()}return f}var i=n("./node_modules/toggle-selection/index.js"),a={"text/plain":"Text","text/html":"Url",default:"Text"},s="Copy to clipboard: #{key}, Enter";e.exports=o},"./node_modules/printd/index.js":function(e,t,n){"use strict";function r(e,t){var n=e.createElement("style");return n.appendChild(e.createTextNode(t)),n}function o(e,t){var n=e.createElement("link");return n.type="text/css",n.rel="stylesheet",n.href=t,n}function i(e){var t=window.document.createElement("iframe");return t.setAttribute("src","about:blank"),t.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("wmode","opaque"),e.appendChild(t),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Printd=t.createIFrame=t.createLinkStyle=t.createStyle=void 0;var a=/^(((http[s]?)|file):)?(\/\/)+([0-9a-zA-Z-_.=?&].+)$/,s=/^((\.|\.\.)?\/)([0-9a-zA-Z-_.=?&]+\/)*([0-9a-zA-Z-_.=?&]+)$/,l=function(e){return a.test(e)||s.test(e)};t.createStyle=r,t.createLinkStyle=o,t.createIFrame=i;var u={parent:window.document.body,headElements:[],bodyElements:[]},c=function(){function e(e){this.isLoading=!1,this.hasEvents=!1,this.opts=[u,e||{}].reduce(function(e,t){return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e},{}),this.iframe=i(this.opts.parent)}return e.prototype.getIFrame=function(){return this.iframe},e.prototype.print=function(e,t,n,i){if(!this.isLoading){var a=this.iframe,s=a.contentDocument,u=a.contentWindow;if(s&&u&&(this.iframe.src="about:blank",this.elCopy=e.cloneNode(!0),this.elCopy)){this.isLoading=!0,this.callback=i;var c=u.document;c.open(),c.write('<!DOCTYPE html><html><head><meta charset="utf-8"></head><body></body></html>'),this.addEvents();var d=this.opts,f=d.headElements,p=d.bodyElements;Array.isArray(f)&&f.forEach(function(e){return c.head.appendChild(e)}),Array.isArray(p)&&p.forEach(function(e){return c.body.appendChild(e)}),Array.isArray(t)&&t.forEach(function(e){e&&c.head.appendChild(l(e)?o(c,e):r(c,e))}),c.body.appendChild(this.elCopy),Array.isArray(n)&&n.forEach(function(e){if(e){var t=c.createElement("script");l(e)?t.src=e:t.innerText=e,c.body.appendChild(t)}}),c.close()}}},e.prototype.printURL=function(e,t){this.isLoading||(this.addEvents(),this.isLoading=!0,this.callback=t,this.iframe.src=e)},e.prototype.launchPrint=function(e){this.isLoading||e.print()},e.prototype.addEvents=function(){var e=this;this.hasEvents||(this.hasEvents=!0,this.iframe.addEventListener("load",function(){return e.onLoad()},!1))},e.prototype.onLoad=function(){var e=this;if(this.iframe){this.isLoading=!1;var t=this.iframe,n=t.contentDocument,r=t.contentWindow;if(!n||!r)return;"function"==typeof this.callback?this.callback({iframe:this.iframe,element:this.elCopy,launchPrint:function(){return e.launchPrint(r)}}):this.launchPrint(r)}},e}();t.Printd=c,t.default=c},"./node_modules/react-copy-to-clipboard/lib/Component.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){if(null==e)return{};var n,r,o=l(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=b();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var v=o(n(0)),M=o(n("./node_modules/copy-to-clipboard/index.js")),g=["text","onCopy","options","children"],O=function(e){function t(){var e;u(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),E(_(e),"onClick",function(t){var n=e.props,r=n.text,o=n.onCopy,i=n.children,a=n.options,s=v.default.Children.only(i),l=(0,M.default)(r,a);o&&o(r,l),s&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t)}),e}f(t,e);var n=h(t);return d(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=s(e,g),r=v.default.Children.only(t);return v.default.cloneElement(r,a(a({},n),{},{onClick:this.onClick}))}}]),t}(v.default.PureComponent);t.CopyToClipboard=O,E(O,"defaultProps",{onCopy:void 0,options:void 0})},"./node_modules/react-copy-to-clipboard/lib/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-copy-to-clipboard/lib/Component.js"),o=r.CopyToClipboard;o.CopyToClipboard=o,e.exports=o},"./node_modules/toggle-selection/index.js":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},0:function(e,t){e.exports=React},1:function(e,t){e.exports=PropTypes},2:function(e,t){e.exports=ReactRedux},3:function(e,t){e.exports=Injector},4:function(e,t){e.exports=classnames},5:function(e,t){e.exports=Config},6:function(e,t){e.exports=Reactstrap},7:function(e,t){e.exports=Redux},8:function(e,t){e.exports=ReactDom},9:function(e,t){e.exports=moment}});